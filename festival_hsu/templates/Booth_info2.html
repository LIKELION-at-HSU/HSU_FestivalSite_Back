<!DOCTYPE html>

<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- {% comment %} <link rel="stylesheet" href="{% static "Booth_Info.css" %}" > {% endcomment %} -->
    <link rel="stylesheet" href="{% static "css/booth.css" %}" >
    {% comment %} <link rel="stylesheet" href="{% static 'Booth_Info.css' %}"> {% endcomment %}
    {% comment %} <link rel="stylesheet" href="/festival_hsu/thumbs_up/static/Booth_Info.css"> {% endcomment %}
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="{% static "js/Booth_Info.js" %}"></script>
    <style>
        @font-face {
            font-family: "ulsanjunggu";
            src: url("{% static "ttf/ulsanjunggu.ttf" %}") format("truetype");
            font-weight: normal;
        }
        @font-face {
            font-family: "Gmarket";
            src: url("{% static "ttf/GmarketSansTTFMedium.ttf" %}") format("truetype");
            font-weight: normal;
        }
        @font-face {
            font-family: "Gmarket2";
            src: url("{% static "ttf/GmarketSansTTFLight.ttf" %}") format("truetype");
            font-weight: normal;
        }
    </style>
    <title>Booth_Info</title>
</head>

<body>
    
    <div id="header" style = "z-index:-10000; width: 100% ; height : 100% ;position:absolute;">
        <object type="text/html" data="{% static 'back.html' %}" style = "width: 100% ; height : 100% ;"></object>
    </div>
    <div class="main">
            
        <div class="topbox">
            <div class="ë™ê·¸ë¼ë¯¸">ë™ê·¸ë¼ë¯¸</div>
            <div class="í•œì„œëŒ€ëŒ€ë™ì œ-outbox">
                <div class="í•œì„œëŒ€ëŒ€ë™ì œ">í•œì„œëŒ€<br>ëŒ€ë™ì œ</div>
            </div>
        </div>

        <div class="midbox">
            <hr>
            <div class="boothinfo">
                BOOTH INFO
            </div>
            <hr>
        </div>

        <div class="bottombox">
            
            <div class="introduce_title">
                <div>{{intruduce.title}}</div>
                <div class = "con">
                    {% comment %} <button id="myid" value = "{{introduce.title}}" class = "move" ></button> {% endcomment %}
                    <p id="count-{{ intruduce.id }}" style="font:bold 1em; margin-top: 3px">
                        ì¢‹ì•„ìš”&nbsp;{{ intruduce.likecount }}ê°œ</p>
                    <button id = "Like" name="{{ intruduce.id }}"  style="margin-top: 7px" value = "dd" class="heart">
                    
                </div>
            </div>

            <div class="intruduce_con">
                <div class="title">ğŸ‘‰ ë¶€ìŠ¤ ì†Œê°œ</div>
                <div class="content">{{ intruduce.intruduce }}</div>
            </div>

            <div class="intruduce_con">
                <div class="title">ğŸ‘‰ ë©”ë‰´</div>
                {% for post in comments %}
                    <div class="menu_content">
                        <div class="content">{{post.name}}</div>
                        <div class="content">{{post.price}}</div>
                    </div>
                {% endfor %}
                
            </div>

        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
        $(document).on("click", "#Like", function () {
            console.log("#"+ $(this).val())
            var pk = $(this).attr('name')
            console.log(pk)
            $.ajax({ // ajaxë¡œ ì„œë²„ì™€ í†µì‹ 
                type: "POST", // ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë°©ë²•
                url: "{% url 'video_like' %}", // í†µì‹ í•  urlì„ ì§€ì •
                data: { 'pk': pk ,'csrfmiddlewaretoken': '{{ csrf_token }}'}, // ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡ì‹œ ì˜µì…˜, pkë¥¼ ë„˜ê²¨ì•¼ ì–´ë–¤ videoì¸ì§€ ì•Œ ìˆ˜ ìˆìŒ
                dataType: "json",
                success: function (response) { // ì„±ê³µ
                    
                    $("#count-" + pk).html("ì¢‹ì•„ìš”&nbsp;" + response.likes_count + "ê°œ"); // ì¢‹ì•„ìš” ê°œìˆ˜ ë³€ê²½
                },
                error: function (request, status, error) { // ì‹¤íŒ¨
                    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.")
                    console.log(url)
                    console.log(data)
                },
            });
        });
    });
    </script>
</body>
</html>