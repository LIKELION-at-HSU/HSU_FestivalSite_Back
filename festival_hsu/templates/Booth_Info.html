<!DOCTYPE html>

<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static "css/booth.css" %}" >
    {% comment %} <link rel="stylesheet" href="{% static 'Booth_Info.css' %}"> {% endcomment %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
    <style>
        @font-face {
            font-family: "ulsanjunggu";
            src: url("{% static "ttf/ulsanjunggu.ttf" %}") format("truetype");
            font-weight: normal;
        }
        @font-face {
            font-family: "Gmarket";
            src: url("{% static "ttf/GmarketSansTTFMedium.ttf" %}") format("truetype");
            font-weight: normal;
        }
        @font-face {
            font-family: "Gmarket2";
            src: url("{% static "ttf/GmarketSansTTFLight.ttf" %}") format("truetype");
            font-weight: normal;
        }
    </style>
    
    <title>Booth_Info</title>
</head>

<body>

    <div id="header" style = "z-index:-10000; width: 100% ; height : 100% ;position:absolute;">
        <object type="text/html" data="{% static 'back.html' %}" style = "width: 100% ; height : 100% ;"></object>
    </div>
    
    <div class="main">
        
        <div class="topbox">
            <div class="동그라미">동그라미</div>
            <div class="한서대대동제-outbox">
                <div class="한서대대동제">한서대<br>대동제</div>
            </div>
            
        </div>

        <div class="midbox">
            <hr>
            <div class="boothinfo" id = "boothinfe">
                BOOTH INFO
            </div>
            <hr>
        </div>

        <div class="map">
            <!-- 지도사진들어가는곳> -->
            <img  src="{% static "img/KakaoTalk_20230916_162421195.jpg" %}" class="hanseo_map" alt="hanseo_map" id = "dl">
            {% for introduce in intruduce_list%}
            {% comment %} <img src = "{% static "pngwing.com (1).png" %}" style = "margin-top:{{introduce.x}}vw ; width: 2vw; height: 2vw; " class = "move" value = "{{introduce.title}}" id = "move"> {% endcomment %}
            {% comment %} onclick="goToScroll('{{introduce.title}}')" {% endcomment %}
            <button id="myid" value = "{{introduce.title}}" class = "move" ><img src = "{% static "img/pngwing.com (1).png" %}" style = "width: 2vw; height : 2vw;"></button>
            {% endfor %}
        </div>
        
        <div class="bottombox">
            <div class = "scroll" id = "scroll">
                <div id = "target"></div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                {% for post in intruduce_list %}
                
                <div class="booth_outbox"  id = "{{post.title}}">
                    <div class="booth_image">
                        <img src="{% static "img/hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth" >
                        <div class="heart_outbox">
                            <div class="place">{{post.loc}}</div>
                            {% comment %} <div class = "con">
                                <p>{{post.likecount}}</p>
                                <a class="heart"href="{{ post.like_url }}a/"></a>
                            </div> {% endcomment %}
                            <div class = "con">
                                {% comment %} <button id="myid" value = "{{introduce.title}}" class = "move" ></button> {% endcomment %}
                                <p id="count-{{ post.id }}" style="font:bold 1em; margin-top: 3px">
                                    좋아요&nbsp;{{ post.likecount }}개</p>
                                <button id = "Like" name="{{ post.id }}"  style="margin-top: 7px" value = "dd" class="heart">
                                
                            </div>
                            
                        </div>
                        <div class="booth_name"><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></div>
                        <div class="introduce">{{ post.shortin }}</div>
                    </div>
                </div>
            {% endfor %}
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>
                <div class="booth_outbox">
                    <div class="booth_image">
                        <img src="{% static "hanseo.png" %}" alt="Hanseo Logo" class="hanseo_img">
                    </div>
                    <div class="booth">
                        <div class="heart_outbox">
                            <div class="place">위치</div>
                            <div class="heart"></div>
                        </div>
                        
                        <div class="booth_name">부스이름</div>
                        <div class="introduce">간단소개</div>
                    </div>
                </div>


            </div>
            
        </div>
        {% comment %} {% for post in intruduce_list %}
            <div>
                <button id="myid" value = "{{introduce.title}}" class = "move" ></button>
                <button id = "Like" name="{{ post.id }}"  style="margin-top: 7px" value = "dd">
                <p id="count-{{ post.id }}" style="font:bold 1em; margin-top: 3px">
                    좋아요&nbsp;{{ post.likecount }}개</p>
            </div>
        {% endfor%} {% endcomment %}
        
    </div>
    
    <script type="text/javascript" src="{% static "js/Booth_Info.js" %}"></script>
    <script type="text/javascript">
        $(document).ready(function () {
        $(document).on("click", "#Like", function () {
            console.log("#"+ $(this).val())
            var pk = $(this).attr('name')
            console.log(pk)
            $.ajax({ // ajax로 서버와 통신
                type: "POST", // 데이터를 전송하는 방법
                url: "{% url 'video_like' %}", // 통신할 url을 지정
                data: { 'pk': pk ,'csrfmiddlewaretoken': '{{ csrf_token }}'}, // 서버로 데이터 전송시 옵션, pk를 넘겨야 어떤 video인지 알 수 있음
                dataType: "json",
                success: function (response) { // 성공
                    
                    $("#count-" + pk).html("좋아요&nbsp;" + response.likes_count + "개"); // 좋아요 개수 변경
                },
                error: function (request, status, error) { // 실패
                    alert("로그인이 필요합니다.")
                    console.log(url)
                    console.log(data)
                },
            });
        });
    });
    </script>


</body>
</html>